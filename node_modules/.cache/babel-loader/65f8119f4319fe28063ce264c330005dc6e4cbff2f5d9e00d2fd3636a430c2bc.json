{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kodego Projects\\\\miniproject2\\\\src\\\\NewsList.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport NewsInfo from \"./NewsInfo\";\nimport ApiService from \"./ApiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction NewsList() {\n  _s();\n  const [list, setList] = useState([]);\n  const [count, setCount] = useState(0);\n  const getNewsList = () => {\n    ApiService('/news-api', null, data => {\n      setList(data);\n    });\n    ApiService('https://newsapi.org/v2/everything?q=apple&from=2023-05-05&to=2023-05-05&sortBy=popularity&apiKey=bb32c96502a24cafb4fc9e33851be330', null, data => {\n      setCount(data.total);\n    });\n  };\n  useEffect(() => {\n    getNewsList();\n  }, []);\n  const [keyword, setKeyword] = useState('');\n  const onKeywordChangeHandler = e => {\n    setKeyword(e.target.value);\n    ApiService('/news-api/author/' + e.target.value, null, data => {\n      setList(data);\n    });\n  };\n  const [newsDetails, setNewsDetails] = useState({});\n  const onEditHandler = data => {\n    ApiService('/news-api/' + data.id, null, data => {\n      setNewsDetails(data);\n    });\n  };\n  const onNewsSaveHandler = formData => {\n    ApiService('/news-api/' + formData.id, formData, data => {\n      getNewsList();\n    }, formData.id === 0 ? \"POST\" : \"PUT\");\n  };\n  const onClickAddHandler = () => {\n    setNewsDetails({\n      id: 0\n    });\n  };\n  const onDeleteHandler = formData => {\n    setNewsDetails(formData);\n    setConfirmOpen(true);\n  };\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const doConfirmedDeleteHandler = () => {\n    doCloseConfirmHandler();\n    ApiService('/news-api/' + newsDetails.id, newsDetails, data => {\n      console.log(data);\n      getNewsList();\n    }, \"DELETE\");\n  };\n  const doCloseConfirmHandler = () => {\n    setConfirmOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Student List (\", count, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(NewsList, \"WVFJTrE53H8KHM7/l9cp7317UFc=\");\n_c = NewsList;\nexport default NewsList;\nvar _c;\n$RefreshReg$(_c, \"NewsList\");","map":{"version":3,"names":["useEffect","useState","NewsInfo","ApiService","jsxDEV","_jsxDEV","Fragment","_Fragment","NewsList","_s","list","setList","count","setCount","getNewsList","data","total","keyword","setKeyword","onKeywordChangeHandler","e","target","value","newsDetails","setNewsDetails","onEditHandler","id","onNewsSaveHandler","formData","onClickAddHandler","onDeleteHandler","setConfirmOpen","confirmOpen","doConfirmedDeleteHandler","doCloseConfirmHandler","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Kodego Projects/miniproject2/src/NewsList.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport NewsInfo from \"./NewsInfo\";\r\nimport ApiService from \"./ApiService\";\r\n\r\n\r\nfunction NewsList() {\r\n\r\n    const [list, setList] = useState([]);\r\n    const [count, setCount] = useState(0);\r\n\r\n    const getNewsList = () => {\r\n        ApiService('/news-api', null, (data) => {\r\n            setList(data);\r\n        });\r\n\r\n        ApiService('https://newsapi.org/v2/everything?q=apple&from=2023-05-05&to=2023-05-05&sortBy=popularity&apiKey=bb32c96502a24cafb4fc9e33851be330', null, (data)=>{\r\n            setCount(data.total)\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getNewsList();\r\n    }, []);\r\n\r\n    const [keyword, setKeyword] = useState('');\r\n    const onKeywordChangeHandler = (e) => {\r\n        setKeyword(e.target.value);\r\n        ApiService('/news-api/author/' + e.target.value, null, (data) => {\r\n            setList(data);\r\n        });\r\n    }\r\n\r\n    const [newsDetails, setNewsDetails] = useState({});\r\n\r\n    const onEditHandler = (data) => {\r\n        ApiService('/news-api/' + data.id, null, (data) => {\r\n            setNewsDetails(data);\r\n        });\r\n    }\r\n\r\n    const onNewsSaveHandler = (formData) => {\r\n        ApiService('/news-api/' + formData.id, formData, (data) => {\r\n            getNewsList();\r\n        }, formData.id === 0 ? \"POST\" : \"PUT\");\r\n    }\r\n\r\n    const onClickAddHandler = () => {\r\n        setNewsDetails({ id: 0 });\r\n    }\r\n\r\n    const onDeleteHandler = (formData) => {\r\n        setNewsDetails(formData);\r\n        setConfirmOpen(true);\r\n    }\r\n\r\n    const [confirmOpen, setConfirmOpen] = useState(false);\r\n\r\n    const doConfirmedDeleteHandler = () => {\r\n        doCloseConfirmHandler();\r\n        ApiService('/news-api/' + newsDetails.id, newsDetails, (data) => {\r\n            console.log(data);\r\n            getNewsList();\r\n        }, \"DELETE\");\r\n    }\r\n\r\n    const doCloseConfirmHandler = () => {\r\n        setConfirmOpen(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <h3>Student List ({count})</h3>\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewsList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}