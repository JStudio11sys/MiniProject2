{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kodego Projects\\\\miniproject2\\\\src\\\\NewsList.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport NewsInfo from \"./NewsInfo\";\nimport ApiService from \"./ApiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction NewsList() {\n  _s();\n  const [list, setList] = useState([]);\n  const [count, setCount] = useState(0);\n  const getNewsList = () => {\n    ApiService('/news-api', null, response => {\n      console.log(response.data);\n      setList(response.data);\n    });\n    ApiService('/news-api/count/all', null, response => {\n      setCount(response.total);\n    });\n  };\n  useEffect(() => {\n    getNewsList();\n  }, []);\n  const [keyword, setKeyword] = useState('');\n  const onKeywordChangeHandler = e => {\n    setKeyword(e.target.value);\n    ApiService('/news-api/author/' + e.target.value, null, data => {\n      setList(data);\n    });\n  };\n  const [newsDetails, setNewsDetails] = useState({});\n  const onEditHandler = data => {\n    ApiService('/news-api/' + data.id, null, data => {\n      setNewsDetails(data);\n    });\n  };\n  const onNewsSaveHandler = formData => {\n    ApiService('/news-api/' + formData.id, formData, data => {\n      getNewsList();\n    }, formData.id === 0 ? \"POST\" : \"PUT\");\n  };\n  const onClickAddHandler = () => {\n    setNewsDetails({\n      id: 0\n    });\n  };\n  const onDeleteHandler = formData => {\n    setNewsDetails(formData);\n    setConfirmOpen(true);\n  };\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const doConfirmedDeleteHandler = () => {\n    doCloseConfirmHandler();\n    ApiService('/news-api/' + newsDetails.id, newsDetails, data => {\n      console.log(data);\n      getNewsList();\n    }, \"DELETE\");\n  };\n  const doCloseConfirmHandler = () => {\n    setConfirmOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: list.map(articles => /*#__PURE__*/_jsxDEV(NewsInfo, {\n        articles: articles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(NewsList, \"WVFJTrE53H8KHM7/l9cp7317UFc=\");\n_c = NewsList;\nexport default NewsList;\nvar _c;\n$RefreshReg$(_c, \"NewsList\");","map":{"version":3,"names":["useEffect","useState","NewsInfo","ApiService","jsxDEV","_jsxDEV","Fragment","_Fragment","NewsList","_s","list","setList","count","setCount","getNewsList","response","console","log","data","total","keyword","setKeyword","onKeywordChangeHandler","e","target","value","newsDetails","setNewsDetails","onEditHandler","id","onNewsSaveHandler","formData","onClickAddHandler","onDeleteHandler","setConfirmOpen","confirmOpen","doConfirmedDeleteHandler","doCloseConfirmHandler","children","map","articles","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Kodego Projects/miniproject2/src/NewsList.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport NewsInfo from \"./NewsInfo\";\r\nimport ApiService from \"./ApiService\";\r\n\r\n\r\nfunction NewsList() {\r\n\r\n    const [list, setList] = useState([]);\r\n    const [count, setCount] = useState(0);\r\n\r\n    const getNewsList = () => {\r\n        ApiService('/news-api', null, (response) => {\r\n            console.log(response.data);\r\n            setList(response.data);\r\n        });\r\n\r\n        ApiService('/news-api/count/all', null, (response) => {\r\n            setCount(response.total)\r\n        });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getNewsList();\r\n    }, []);\r\n\r\n    const [keyword, setKeyword] = useState('');\r\n    const onKeywordChangeHandler = (e) => {\r\n        setKeyword(e.target.value);\r\n        ApiService('/news-api/author/' + e.target.value, null, (data) => {\r\n            setList(data);\r\n        });\r\n    }\r\n\r\n    const [newsDetails, setNewsDetails] = useState({});\r\n\r\n    const onEditHandler = (data) => {\r\n        ApiService('/news-api/' + data.id, null, (data) => {\r\n            setNewsDetails(data);\r\n        });\r\n    }\r\n\r\n    const onNewsSaveHandler = (formData) => {\r\n        ApiService('/news-api/' + formData.id, formData, (data) => {\r\n            getNewsList();\r\n        }, formData.id === 0 ? \"POST\" : \"PUT\");\r\n    }\r\n\r\n    const onClickAddHandler = () => {\r\n        setNewsDetails({ id: 0 });\r\n    }\r\n\r\n    const onDeleteHandler = (formData) => {\r\n        setNewsDetails(formData);\r\n        setConfirmOpen(true);\r\n    }\r\n\r\n    const [confirmOpen, setConfirmOpen] = useState(false);\r\n\r\n    const doConfirmedDeleteHandler = () => {\r\n        doCloseConfirmHandler();\r\n        ApiService('/news-api/' + newsDetails.id, newsDetails, (data) => {\r\n            console.log(data);\r\n            getNewsList();\r\n        }, \"DELETE\");\r\n    }\r\n\r\n    const doCloseConfirmHandler = () => {\r\n        setConfirmOpen(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n            {list.map((articles) => <NewsInfo articles={articles} />)}\r\n            </div>\r\n\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NewsList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}